# 검색 결과 중 평점이 높고 좋아요 수가 많은 글을 상위에 노출시키고 싶은 경우
## ✅ 검색 결과 중 평점이 높고 좋아요 수가 많은 글을 상위에 노출시키고 싶은 경우
```
DELETE /products

PUT /products
{
    "mappings": {
        "properties": {
            "name": {
                "type": "text",
                "analyzer": "nori"
            },
            "rating": {
                "type": "double"
            },
            "likes": {
                "type": "integer"
            }
        }
    }
}

// 키워드('무선 이어폰')와 관련성은 낮지만, 좋아요 수가 높고, 평점이 좋은 경우
POST /products/_doc
{
    "name": "무선 충전기 C타입",
    "rating": 4.9,
    "likes": 300
}

// 키워드('무선 이어폰')와 과련성은 높지만, 좋아요 수고 낮고, 평점이 낮은 경우
POST /products/_doc
{
    "name": "소니 무선 이어폰 WF",
    "rating": 3.8,
    "likes": 15
}

// 키워드('무선 이어폰')와 과련성도 높고, 좋아요 수고 높고, 평점도 높은 경우
POST /products/_doc
{
    "name": "갤럭시 버즈2 무선 이어폰",
    "rating": 4.8,
    "likes": 310
}


// 키워드('무선 이어폰')와 과련성 없고, 좋아요 수고 높고, 평점도 높은 경우
POST /products/_doc
{
    "name": "삼성 노트북 13인치",
    "rating": 5.0,
    "likes": 1000
}
 ```

```

// 사용자가 특정 키워드(예: 무선 이어폰)로 검색
// 평점이 높거나 좋아요 수가 많은 상품이 상단에 노출되게 만들기
GET /products/_search
{
    "query": {
        "bool": {
            "must": [
              {
                "match": {
                  "name": "무선 이어폰"
                }
              }
            ],
            "should": [
              {
                "range": {
                    "rating": {
                        "gte": 4.5
                    }
                }
              },
              {
                "range": {
                    "likes": {
                      "gte": 100
                    }
                }
              }
            ]
        }
    }
}
```